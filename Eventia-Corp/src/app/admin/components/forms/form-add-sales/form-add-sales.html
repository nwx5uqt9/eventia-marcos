<form [formGroup]="ventaForm" (ngSubmit)="guardar()">
  <div class="mb-3">
    <label>Usuario:</label>
    <select class="form-select" formControlName="idUsuario" required>
      <option value="">Seleccione un usuario...</option>
      <option *ngFor="let usuario of usuarios" [value]="usuario.id">
        {{usuario.nombre}} {{usuario.apellidos}}
      </option>
    </select>
  </div>

  <div class="mb-3">
    <label>Evento:</label>
    <select class="form-select" formControlName="idEvento" required>
      <option value="">Seleccione un evento...</option>
      <option *ngFor="let evento of eventos" [value]="evento.id">
        {{evento.nombre}}
      </option>
    </select>
  </div>

  <div class="mb-3">
    <label>Ubicación:</label>
    <select class="form-select" formControlName="idUbicacion" required>
      <option value="">Seleccione una ubicación...</option>
      <option *ngFor="let ubicacion of ubicaciones" [value]="ubicacion.id">
        {{ubicacion.nombre}}
      </option>
    </select>
  </div>

  <div class="mb-3">
    <label>Código de Pago:</label>
    <input class="form-control" formControlName="codigoPago" type="text" required />
  </div>

  <div class="mb-3">
    <label>Total:</label>
    <input class="form-control" formControlName="total" type="number" step="0.01" required />
  </div>

  <div class="d-grid gap-2">
    <button type="submit" class="btn btn-primary" [disabled]="!ventaForm.valid || guardando">
      <span *ngIf="!guardando">{{ isEditMode ? 'Actualizar Venta' : 'Guardar Venta' }}</span>
      <span *ngIf="guardando">{{ isEditMode ? 'Actualizando...' : 'Guardando...' }}</span>
    </button>
    <button type="button" class="btn btn-secondary" (click)="cancelar()">
      Cancelar
    </button>
  </div>
</form>
